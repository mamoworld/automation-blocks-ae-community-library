<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="yAAA)dG`vfI`eqz9ZGX1">target property</variable><variable id="FR_=*$GQ8*6N|bA#h+uj">my layer</variable><variable id="ygW=u6!jto07eZWjGGV@">marker value</variable><variable id="6MC?GP:o=BBUy@8u76BS">marker prop</variable><variable id="yS4]n|_M=PQXo~h%Phkd">layer list</variable><variable id="EXbn_2FZo#6`QCM.mV8l">match</variable><variable id="SY{cv)3-$W3sk9xtUZcW">key time</variable><variable id="_]USnOS.QN$QIpTv6%y*">current value</variable><variable id="r=.vNZwHBEctYXz5df_1">marker comment</variable></variables><block type="mm_multiline_comment_block" id="XYaQc[:$-I{COq@cyFZv" x="0" y="0"><field name="TEXT">Creates keyframes on the selected&amp;#10;property at all markers of a layer of&amp;#10;your choice. As keyframe value the&amp;#10;marker comment is used.&amp;#10;&amp;#10;USAGE&amp;#10;1) select the property on which you want&amp;#10;   to create keyframes and run the tool.&amp;#10;2) in the dialog that pops up, choose&amp;#10;   the layer whose markers should be&amp;#10;   used.&amp;#10;&amp;#10;VALUES&amp;#10;As marker comments you can enter any values,&amp;#10;for example&amp;#10;- numbers&amp;#10;- arrays like [14,13] or [1,2,3] for 2D&amp;#10;  and 3D properties&amp;#10;- texts for source text properties</field></block><block type="es_tutorial" id=".qe0E6lK[s/Md64Y`pnW" x="1" y="587"><field name="WATCH_TUT_LABEL">open web page</field><field name="TITLE">watch tutorial</field><field name="URL">https://www.youtube.com/watch?v=5QjeAq96HQ8</field></block><block type="es_tutorial" id="}lCbeh]v|)@Sg7Kyx^9L" x="493" y="586"><field name="WATCH_TUT_LABEL">open web page</field><field name="TITLE">requested in this forum discussion</field><field name="URL">https://community.adobe.com/t5/after-effects-discussions/automation-blocks-how-can-i-create-keyframes-from-markers-with-numbers/m-p/13171821#M209807</field></block><block type="variables_set" id="YF@{8|{92$)I+q.|t_=~" x="0" y="771"><field name="VAR" id="yAAA)dG`vfI`eqz9ZGX1">target property</field><value name="VALUE"><block type="ae_only_selected_property" id="5|7O)`v1R=q8G~(qV+ry"><value name="COMP"><shadow type="ae_active_comp" id="}Ar%k5JAwo6Tr@pkDVm`"></shadow></value></block></value><next><block type="variables_set" id="rPmSl|Gya?Q(CG1|=$QI"><field name="VAR" id="FR_=*$GQ8*6N|bA#h+uj">my layer</field><value name="VALUE"><block type="procedures_callreturn" id="v`9?kqSg`K%whBVEx*Vc"><mutation name="get list of all layers"></mutation></block></value><next><block type="modal_input_dialog" id="ljd*|V+Th5:(#Rw(`]]{"><mutation items="2"></mutation><field name="OK_CANCEL">OK_CANCEL</field><field name="FIELD_LABEL_0">create on selected property keyframes</field><field name="FIELD_TYPE_0">LABEL</field><field name="FIELD_LABEL_1">from markers of layer</field><field name="FIELD_TYPE_1">DROPDOWN</field><field name="FIELD_VAR_1" id="FR_=*$GQ8*6N|bA#h+uj">my layer</field><next><block type="variables_set" id="BxDjx@[Q+tU0,8F/W{CQ"><field name="VAR" id="FR_=*$GQ8*6N|bA#h+uj">my layer</field><value name="VALUE"><block type="string_replace" id="qgdm~~RW5va7S)z{aequ"><field name="REPLACE_VARIANT">REPLACE_FIRST</field><comment pinned="false" h="80" w="160">we replace a string like
"3:my layer name" by
"::3", i.e. only keep the number and prepend a ::The result is the path for the respective layer in the active composition (since layers can be accessed by index and :: refers to the active comp)</comment><value name="MAIN_TEXT"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="]`HFNQCdVuM|B.yi6oe5"><field name="VAR" id="FR_=*$GQ8*6N|bA#h+uj">my layer</field></block></value><value name="SEARCH_TEXT"><shadow type="text" id="j,]Ub@Bn$S#7AF%r7JsT"><field name="TEXT">(\d+):.*</field></shadow></value><value name="REPLACE_TEXT"><shadow type="text" id="^PiXYY6H7|CFq#yD3%;R"><field name="TEXT">::$1</field></shadow></value><value name="CASE_SENSITIVE"><shadow type="block_checkbox" id="~1rWwVBNA@-uDl]pK2!h"><field name="VALUE">FALSE</field></shadow></value><value name="IS_REGEXP"><shadow type="block_checkbox" id="_Yy3[tm1F(-.ItuuW%u)"><field name="VALUE">TRUE</field></shadow></value></block></value><next><block type="procedures_callnoreturn" id=",c4Yj}0=8-e;1$.?:h15"><mutation name="Process all Keyframes of Layer"><arg name="my layer"></arg></mutation><value name="ARG0"><block type="variables_get" id="jaTXFSi8d`r^R;Ixe:gg"><field name="VAR" id="FR_=*$GQ8*6N|bA#h+uj">my layer</field></block></value></block></next></block></next></block></next></block></next></block><block type="procedures_defnoreturn" id="rY(]ET~UI/:T(_}/Wu8W" x="0" y="1435"><mutation><arg name="my layer" varid="FR_=*$GQ8*6N|bA#h+uj"></arg></mutation><field name="NAME">Process all Keyframes of Layer</field><comment pinned="false" h="80" w="160">Describe this function...</comment><statement name="STACK"><block type="variables_set" id="@HZa@uVT%a++H,_KJQVF"><field name="VAR" id="6MC?GP:o=BBUy@8u76BS">marker prop</field><value name="VALUE"><block type="ae_property_path" id="-?qkO+-xAz2y^bUr{o`G"><mutation fullPath="Comp 1::Null 1/ADBE Marker" base="BASE_LAYER"></mutation><field name="PROPERTY_PATH">ADBE Marker</field><field name="BASE_DROPDOWN">BASE_LAYER</field><value name="INP_LAYER"><shadow type="text"><field name="TEXT">Comp 1::Null 1</field></shadow><block type="variables_get" id="[VYSnN^3[)^.7n(Puq7]"><field name="VAR" id="FR_=*$GQ8*6N|bA#h+uj">my layer</field></block></value></block></value><next><block type="variables_set" id="`d=(S^6gsb:Q.P_Ft,J}"><field name="VAR" id="SY{cv)3-$W3sk9xtUZcW">key time</field><value name="VALUE"><block type="ae_nearest_keyframe_time" id="]oy(z,A#V)aAlL`Yl(aH"><field name="TIME_OPTION">GREATER_EQUAL</field><value name="TIME"><block type="math_number" id="sN;-1E30ucn$sjL#k/Mt"><field name="NUM">0</field></block></value><value name="PROPERTY"><block type="variables_get" id="JGS@ZCqjwN,yzwn6KoJ:"><field name="VAR" id="6MC?GP:o=BBUy@8u76BS">marker prop</field></block></value></block></value><next><block type="controls_whileUntil" id="`1RFNig=U1U/U^TnuW(7"><field name="MODE">WHILE</field><value name="BOOL"><block type="logic_compare" id="wT2idy2s7D)9#%7oGOSf"><field name="OP">NEQ</field><value name="A"><block type="variables_get" id="3^p0SKHMUNpdFznlsVTp"><field name="VAR" id="SY{cv)3-$W3sk9xtUZcW">key time</field></block></value><value name="B"><block type="logic_null" id="eXk:gGT/n.qEUtoP^PCW"></block></value></block></value><statement name="DO"><block type="ae_comp_set_attribute" id="C9:R1{z([O/m*0.e/f-g"><field name="PARAM">CURRENT_TIME</field><value name="ITEM"><shadow type="ae_active_comp" id="XBWMg;+72`^l_oku7j]U"></shadow></value><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="GlB{A0/=%NH*t;ilD=Pa"><field name="VAR" id="SY{cv)3-$W3sk9xtUZcW">key time</field></block></value><next><block type="variables_set" id="sqWaYR#]Q,z*6Ce%(r?j"><field name="VAR" id="_]USnOS.QN$QIpTv6%y*">current value</field><value name="VALUE"><block type="ae_property_get_attribute" id="ZY7bsz}}%Ih`8sR`eodk"><field name="PARAM">VALUE</field><value name="ITEM"><block type="variables_get" id="!vh~3Wcw4XhqA3T#kgm+"><field name="VAR" id="6MC?GP:o=BBUy@8u76BS">marker prop</field></block></value></block></value><next><block type="variables_set" id="yZOV*;c1S(tRw@cL=~FH"><field name="VAR" id="r=.vNZwHBEctYXz5df_1">marker comment</field><value name="VALUE"><block type="procedures_callreturn" id="G3A+Bs+CbOX],(kqxIbs"><mutation name="get marker comment"><arg name="marker value"></arg></mutation><value name="ARG0"><block type="variables_get" id="rBq#29|#{bB_ko;V2W{+"><field name="VAR" id="_]USnOS.QN$QIpTv6%y*">current value</field></block></value></block></value><next><block type="ae_set_value_at_time" id="j5ocCTY+nZ#JEAmc^v(D"><value name="PROP"><shadow type="ae_property_path" id="NES-.0O!n$uVpSN=xfmK"><mutation fullPath="click refresh icon to choose selected property" base="BASE_PROJECT"></mutation><field name="PROPERTY_PATH">click refresh icon to choose selected property</field><field name="BASE_DROPDOWN">BASE_PROJECT</field></shadow><block type="variables_get" id="AsTHAFap]01/c%=A},jM"><field name="VAR" id="yAAA)dG`vfI`eqz9ZGX1">target property</field></block></value><value name="TIME"><shadow type="ae_comp_get_attribute" id="jn5ViKd3-^7!{5w*hndm"><field name="PARAM">CURRENT_TIME</field><value name="ITEM"><shadow type="ae_active_comp" id="dFkJ){Y.9__IM#w?kTn0"></shadow></value></shadow><block type="variables_get" id="k$g1!#,D:_8aMTY`Cm3{"><field name="VAR" id="SY{cv)3-$W3sk9xtUZcW">key time</field></block></value><value name="VALUE"><shadow type="ae_property_value_json" id="r.zHRlh0A!Hj*M1h!kQ("><field name="PROPERTY_VALUE_JSON">click refresh icon to load selected property value</field></shadow><block type="variables_get" id="P;A7UQdb1YWMb:Fr0(5#"><field name="VAR" id="r=.vNZwHBEctYXz5df_1">marker comment</field></block></value><next><block type="variables_set" id="J=$hf5@}J*{Q*OoGh{.m"><field name="VAR" id="SY{cv)3-$W3sk9xtUZcW">key time</field><value name="VALUE"><block type="ae_nearest_keyframe_time" id="j4-d~;in9$uM(H$u`^Ao"><field name="TIME_OPTION">GREATER</field><value name="TIME"><block type="variables_get" id="3Zx*L-UpJ{?M;;NTR?`C"><field name="VAR" id="SY{cv)3-$W3sk9xtUZcW">key time</field></block></value><value name="PROPERTY"><block type="variables_get" id="9+cM(Gf^tAeum9$={OFc"><field name="VAR" id="6MC?GP:o=BBUy@8u76BS">marker prop</field></block></value></block></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement></block><block type="procedures_defreturn" id="t*~vA~WBcWyiUG48Kj}*" x="0" y="2315"><field name="NAME">get list of all layers</field><comment pinned="false" h="80" w="160">Describe this function...</comment><statement name="STACK"><block type="variables_set" id="4}MeO;=Hel^d?T:V8]O-"><field name="VAR" id="yS4]n|_M=PQXo~h%Phkd">layer list</field><value name="VALUE"><block type="lists_create_with" id="S![{-fLwP,fnyRy(Xw2T"><mutation items="0"></mutation></block></value><next><block type="ae_layer_for_all" id="$c%M53a)/rj~h|^kEl;;"><field name="SELECTION">ALL</field><field name="TYPE">Layer</field><field name="LAYER_VAR" id="FR_=*$GQ8*6N|bA#h+uj">my layer</field><field name="COMP_CHOICE">COMP</field><value name="COMP"><shadow type="ae_active_comp" id="JS1XZ7mt?!=2,1Atup-["></shadow></value><statement name="LOOP_STATEMENT"><block type="lists_setIndex" id="R,ddhPSMn,B?/_?HZ1S-"><mutation at="false"></mutation><field name="MODE">INSERT</field><field name="WHERE">LAST</field><value name="LIST"><block type="variables_get" id="Tc5;H__bg99|+rShuVYD"><field name="VAR" id="yS4]n|_M=PQXo~h%Phkd">layer list</field></block></value><value name="TO"><block type="string_pattern" id="o~k}HL)G@cqotbU]mzSv"><mutation items="2"></mutation><value name="VALUE"><shadow type="text" id="x^(EFC|sQ-iL`+)6bei3"><field name="TEXT">$1:$2</field></shadow></value><value name="ADD0"><shadow type="text"><field name="TEXT">Miller</field></shadow><block type="ae_layer_get_attribute" id="hkH^SZ7YBc-G06u0$Tnd"><field name="PARAM">INDEX</field><value name="ITEM"><block type="variables_get" id="Upj((;D+YP2#a/IB4?t|"><field name="VAR" id="FR_=*$GQ8*6N|bA#h+uj">my layer</field></block></value></block></value><value name="ADD1"><shadow type="text"><field name="TEXT">41</field></shadow><block type="ae_layer_get_attribute" id="snOi:BW`/-xUo1193PZR"><field name="PARAM">NAME</field><value name="ITEM"><block type="variables_get" id=":3:sd2W|bH$|6Bf1n^-J"><field name="VAR" id="FR_=*$GQ8*6N|bA#h+uj">my layer</field></block></value></block></value></block></value></block></statement></block></next></block></statement><value name="RETURN"><block type="variables_get" id="J+F=%T[hsNjM+(?j[vqW"><field name="VAR" id="yS4]n|_M=PQXo~h%Phkd">layer list</field></block></value></block><block type="procedures_defreturn" id="$Hn~/47kZ#Abv4d=W/;t" x="0" y="2767"><mutation><arg name="marker value" varid="ygW=u6!jto07eZWjGGV@"></arg></mutation><field name="NAME">get marker comment</field><comment pinned="false" h="80" w="160">Describe this function...</comment><statement name="STACK"><block type="string_for_all_regex_matches" id="UWk4!T`A-AK]okmuH+[J"><field name="MATCH_VAR" id="EXbn_2FZo#6`QCM.mV8l">match</field><field name="REGEX">"comment":"([^"]*)"</field><field name="REGEX_MODIFIER">gm</field><value name="MAIN_TEXT"><block type="string_replace" id="dQ~c7isIc0P%8`f*KR|9"><field name="REPLACE_VARIANT">REPLACE_ALL</field><comment pinned="false" h="80" w="160">trick to convert a json data object into a json string which we can search in</comment><value name="MAIN_TEXT"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="H-iVh)ry)1q*$rVQKL$K"><field name="VAR" id="ygW=u6!jto07eZWjGGV@">marker value</field></block></value><value name="SEARCH_TEXT"><shadow type="text" id="^@ZMihYD-lK1__/(nmm*"><field name="TEXT">$1</field></shadow></value><value name="REPLACE_TEXT"><shadow type="text" id="C+,YBw+d-u7_M,{[D81J"><field name="TEXT">$1</field></shadow></value><value name="CASE_SENSITIVE"><shadow type="block_checkbox" id="e9xVY[sC}t*5[owozSp,"><field name="VALUE">FALSE</field></shadow></value><value name="IS_REGEXP"><shadow type="block_checkbox" id="s5[{$/-9[e,JF@%=xO-9"><field name="VALUE">FALSE</field></shadow></value></block></value><statement name="LOOP_STATEMENT"><block type="procedures_ifreturn" id="vL(#Ll_`2EI^iY$2~$M-"><mutation value="1"></mutation><value name="CONDITION"><block type="logic_boolean" id="Gr;]6n-umbt{xEtZeRu!"><field name="BOOL">TRUE</field></block></value><value name="VALUE"><block type="lists_getIndex" id="RMd6zM.a2wG?9s]48VPL"><mutation statement="false" at="true"></mutation><field name="MODE">GET</field><field name="WHERE">FROM_START</field><value name="VALUE"><block type="variables_get" id="?^?]qe]!]Fh:g[yDq3WJ"><field name="VAR" id="EXbn_2FZo#6`QCM.mV8l">match</field></block></value><value name="AT"><block type="math_number" id="A`dSPv%8~ut(nCYVN!_["><field name="NUM">2</field></block></value></block></value></block></statement><next><block type="block_extendscript_alert" id="KdfH$,NjHq=#$)2_H[;`"><field name="TEXT">alert</field><field name="TYPE">ERROR</field><value name="TEXT_TO_ALERT"><shadow type="text"><field name="TEXT">my message</field></shadow><block type="text_join" id="^BGdxdxP@gJk!6K|-zYe"><mutation items="2"></mutation><value name="ADD0"><block type="text_multiline" id="{TVE68`S%RjlBVp`1/m$"><field name="TEXT">could not find marker comment&amp;#10;in marker value&amp;#10;</field></block></value><value name="ADD1"><block type="variables_get" id="9M%jIqVMRsvE;IA3qFpl"><field name="VAR" id="ygW=u6!jto07eZWjGGV@">marker value</field></block></value></block></value></block></next></block></statement></block></xml>