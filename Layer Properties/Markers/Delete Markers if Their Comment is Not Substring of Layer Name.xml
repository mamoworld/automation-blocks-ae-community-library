<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="FR_=*$GQ8*6N|bA#h+uj">my layer</variable><variable id="ygW=u6!jto07eZWjGGV@">marker value</variable><variable id="qq12*o|_]l-)#)$%JMC4">match</variable><variable id="!x3XNGNnx:R6@4q?~S$Q">name</variable><variable id="=u~l?xKbE4,QVrF)WE3^">marker prop</variable><variable id="`M9}O,gs_mn4p.r*x/ZD">key time</variable><variable id="(DJ$}lYY/BIO0P,=|WVB">current value</variable><variable id="6R@e:3;WSEtyVI/97_[(">marker comment</variable></variables><block type="mm_multiline_comment_block" id="NH8w|(_Uz+ADMD=,g3+A" x="-10" y="196"><field name="TEXT">Loops over all markers of the selected&amp;#10;layers and deletes a marker if its&amp;#10;marker comment is not a substring of the&amp;#10;layer name.</field></block><block type="es_tutorial" id="LX;Szb?Fhi69:_^FiG1C" x="384" y="203"><field name="WATCH_TUT_LABEL">open web page</field><field name="TITLE">requested in this forum post</field><field name="URL">https://community.adobe.com/t5/after-effects-discussions/preserve-only-specific-markers-with-automation-blocks/m-p/13081992</field></block><block type="ae_layer_for_all" id="mZiknUUa_qhY=X;F7qJ2" x="-10" y="439"><field name="SELECTION">SELECTED</field><field name="TYPE">Layer</field><field name="LAYER_VAR" id="FR_=*$GQ8*6N|bA#h+uj">my layer</field><field name="COMP_CHOICE">COMP</field><value name="COMP"><shadow type="ae_active_comp" id="/v?gDrdo0Kp+n8p/yiFM"></shadow></value><statement name="LOOP_STATEMENT"><block type="procedures_callnoreturn" id="fIxIs+GHp5x-qM.D2MV*"><mutation name="Process all Keyframes of Layer"><arg name="my layer"></arg></mutation><value name="ARG0"><block type="variables_get" id="m}-dqDB+xz_lnsny:T68"><field name="VAR" id="FR_=*$GQ8*6N|bA#h+uj">my layer</field></block></value></block></statement></block><block type="procedures_defreturn" id="CSaAObC}rL*sF+~PG}qd" x="1006" y="601"><mutation><arg name="marker value" varid="ygW=u6!jto07eZWjGGV@"></arg></mutation><field name="NAME">get marker comment</field><comment pinned="false" h="80" w="160">Describe this function...</comment><statement name="STACK"><block type="string_for_all_regex_matches" id="7f}p3$27%`i7tjcHsWHe"><field name="MATCH_VAR" id="qq12*o|_]l-)#)$%JMC4">match</field><field name="REGEX">"comment":"([^"]*)"</field><field name="REGEX_MODIFIER">gm</field><value name="MAIN_TEXT"><block type="string_replace" id="s8x,.0(Po9yn*%^J%_4x"><field name="REPLACE_VARIANT">REPLACE_ALL</field><comment pinned="true" h="80" w="160">trick to convert a json data object into a json string which we can search in</comment><value name="MAIN_TEXT"><shadow type="text" id="sDn=UgM].pdX%!/,r|=#"><field name="TEXT"></field></shadow><block type="variables_get" id="d4|)%Xd=Tj)|I!1:@-Ik"><field name="VAR" id="ygW=u6!jto07eZWjGGV@">marker value</field></block></value><value name="SEARCH_TEXT"><shadow type="text" id="{H(z7ydbbo_vXmoL74E;"><field name="TEXT">$1</field></shadow></value><value name="REPLACE_TEXT"><shadow type="text" id="6YREtbE:*YbjO[S00/~-"><field name="TEXT">$1</field></shadow></value><value name="CASE_SENSITIVE"><shadow type="block_checkbox" id="8XxbP-z1cdkw1lO^5V]p"><field name="VALUE">FALSE</field></shadow></value><value name="IS_REGEXP"><shadow type="block_checkbox" id="[x-D8wY@tYB`$(H}L7Al"><field name="VALUE">FALSE</field></shadow></value></block></value><statement name="LOOP_STATEMENT"><block type="procedures_ifreturn" id="HsotA.v3(J-.8qr4iR;k"><mutation value="1"></mutation><value name="CONDITION"><block type="logic_boolean" id="hR)=+[r^UCqO$gscK9h$"><field name="BOOL">TRUE</field></block></value><value name="VALUE"><block type="lists_getIndex" id="Kx~w/j=A16Y}TNhdHk#!"><mutation statement="false" at="true"></mutation><field name="MODE">GET</field><field name="WHERE">FROM_START</field><value name="VALUE"><block type="variables_get" id="V|-C.lrg}e1$LvSH+nxU"><field name="VAR" id="qq12*o|_]l-)#)$%JMC4">match</field></block></value><value name="AT"><block type="math_number" id=";)O1Da2BkQjM+]IF+o0c"><field name="NUM">2</field></block></value></block></value></block></statement><next><block type="block_extendscript_alert" id="lB__Tp$g13`G47`syOxf"><field name="TEXT">alert</field><field name="TYPE">ERROR</field><value name="TEXT_TO_ALERT"><shadow type="text" id="5/sF|%7cyz!L.8)*7Ayg"><field name="TEXT">my message</field></shadow><block type="text_join" id="A2/.LqDza!06^9WP9.02"><mutation items="2"></mutation><value name="ADD0"><block type="text_multiline" id="8mi{8={l@WvPMOT{[^DF"><field name="TEXT">could not find marker comment&amp;#10;in marker value&amp;#10;</field></block></value><value name="ADD1"><block type="variables_get" id="%vfmmKx0njZwf$|(Rv8D"><field name="VAR" id="ygW=u6!jto07eZWjGGV@">marker value</field></block></value></block></value></block></next></block></statement></block><block type="procedures_defnoreturn" id="#`t==y:A[1/)4tbqq=m(" x="-3" y="663"><mutation><arg name="my layer" varid="FR_=*$GQ8*6N|bA#h+uj"></arg></mutation><field name="NAME">Process all Keyframes of Layer</field><comment pinned="false" h="80" w="160">Describe this function...</comment><statement name="STACK"><block type="variables_set" id="il[#Hyd.R8%jz!Es-Tf."><field name="VAR" id="!x3XNGNnx:R6@4q?~S$Q">name</field><value name="VALUE"><block type="ae_layer_get_attribute" id=")Ps@!RzMIhB)sYwNNk0x"><field name="PARAM">NAME</field><value name="ITEM"><block type="variables_get" id="hyu]N`~^3S)Dptt|VUg#"><field name="VAR" id="FR_=*$GQ8*6N|bA#h+uj">my layer</field></block></value></block></value><next><block type="variables_set" id="WpMf3]7J(3$b7O:p%KkV"><field name="VAR" id="=u~l?xKbE4,QVrF)WE3^">marker prop</field><value name="VALUE"><block type="ae_property_path" id="Rldf=]lN^AnHHHsE|y4R"><mutation fullPath="Comp 1::Null 1/ADBE Marker" base="BASE_LAYER"></mutation><field name="PROPERTY_PATH">ADBE Marker</field><field name="BASE_DROPDOWN">BASE_LAYER</field><value name="INP_LAYER"><shadow type="text" id="U*B6l3p.7Pz#j|6p#GFz"><field name="TEXT">Comp 1::Null 1</field></shadow><block type="variables_get" id="G_HBJ@b;}d.2yfGfr?Zz"><field name="VAR" id="FR_=*$GQ8*6N|bA#h+uj">my layer</field></block></value></block></value><next><block type="variables_set" id="^DBYm5o]UmaGzGJkcKny"><field name="VAR" id="`M9}O,gs_mn4p.r*x/ZD">key time</field><value name="VALUE"><block type="ae_nearest_keyframe_time" id="ZEVdgC50@(K/c;:z7ZX]"><field name="TIME_OPTION">GREATER_EQUAL</field><value name="TIME"><block type="math_number" id="Q8%0(Dg}gUkx1E!u1~J6"><field name="NUM">0</field></block></value><value name="PROPERTY"><block type="variables_get" id="vQD;HP.1Ssun^%pU-)-B"><field name="VAR" id="=u~l?xKbE4,QVrF)WE3^">marker prop</field></block></value></block></value><next><block type="controls_whileUntil" id="RdPIOxe1i/|Ok%`:IG5u"><field name="MODE">WHILE</field><value name="BOOL"><block type="logic_compare" id="BmL=C4M#Oj`.;naS.)f)"><field name="OP">NEQ</field><value name="A"><block type="variables_get" id="F~)Rr[CJ#lSDX66{QwX0"><field name="VAR" id="`M9}O,gs_mn4p.r*x/ZD">key time</field></block></value><value name="B"><block type="logic_null" id="l;7%i@hDb?`H+;sqmP2`"></block></value></block></value><statement name="DO"><block type="ae_comp_set_attribute" id="wPeRZ,l@#[KUA.ZnMvCH"><field name="PARAM">CURRENT_TIME</field><value name="ITEM"><shadow type="ae_active_comp" id="c{xv[;eh5@xG87Vo{A#P"></shadow></value><value name="VALUE"><shadow type="math_number" id="cAfWo)[F,gj{FV*sK|fN"><field name="NUM">0</field></shadow><block type="variables_get" id="sPaOogtv~4.L)lsGz7~Q"><field name="VAR" id="`M9}O,gs_mn4p.r*x/ZD">key time</field></block></value><next><block type="variables_set" id="r*9,@ur.iOXIz(uEB5oS"><field name="VAR" id="(DJ$}lYY/BIO0P,=|WVB">current value</field><value name="VALUE"><block type="ae_property_get_attribute" id="jqUAXa+Yje?wYvMT:8.4"><field name="PARAM">VALUE</field><value name="ITEM"><block type="variables_get" id="IhUT6r{2}KCB4i8_iz3V"><field name="VAR" id="=u~l?xKbE4,QVrF)WE3^">marker prop</field></block></value></block></value><next><block type="variables_set" id="3/Z*yxbg/IcX_aOZei4E"><field name="VAR" id="6R@e:3;WSEtyVI/97_[(">marker comment</field><value name="VALUE"><block type="procedures_callreturn" id="~~WY2?-`3Dw%1$C]zI-j"><mutation name="get marker comment"><arg name="marker value"></arg></mutation><value name="ARG0"><block type="variables_get" id=",m57eeBa{W7qRR,aQCEJ"><field name="VAR" id="(DJ$}lYY/BIO0P,=|WVB">current value</field></block></value></block></value><next><block type="block_extendscript_console_log" id="Kg88=rl3P-/zLj*Irz!/"><value name="MESSAGE"><shadow type="text" id=".D|f9TlM_~Dn~nKs7X-7"><field name="TEXT">my message</field></shadow><block type="string_pattern" id="q54aly0h33aQ5gfUk5o5"><mutation items="2"></mutation><value name="VALUE"><shadow type="text" id="s+bHw7?b`)=$wQ;Bi2wg"><field name="TEXT">compare layer name "$1" to comment "$2"</field></shadow></value><value name="ADD0"><shadow type="text" id="XUpOxU:3rx5%k1wuUxc?"><field name="TEXT">Miller</field></shadow><block type="variables_get" id="0#rK2jNFi0y=$Zt4f^kN"><field name="VAR" id="!x3XNGNnx:R6@4q?~S$Q">name</field></block></value><value name="ADD1"><shadow type="text" id="x$ZNritwfeJVZI5IFb$A"><field name="TEXT">41</field></shadow><block type="variables_get" id=";DF@GEKws8p[|~Z#mx4#"><field name="VAR" id="6R@e:3;WSEtyVI/97_[(">marker comment</field></block></value></block></value><next><block type="controls_if" id="JdK@8!n}yIJaPQg,uRp*"><value name="IF0"><block type="logic_compare" id="+.Jn2CF*!|#nT*4U2V.d"><field name="OP">EQ</field><value name="A"><block type="string_search_mm" id="~tq/4d2W=N-Nb/59J--8"><value name="MAIN_TEXT"><shadow type="text" id="oum8smm_K*AdAA)~Z-$-"><field name="TEXT"></field></shadow><block type="variables_get" id="!dLkuz6oOU$~!|Sqv0fM"><field name="VAR" id="!x3XNGNnx:R6@4q?~S$Q">name</field></block></value><value name="SEARCH_TEXT"><shadow type="text" id="Bi#7^H_ypp#J!NSxP]wf"><field name="TEXT"></field></shadow><block type="variables_get" id="HI`x@GI6tu/E^41}nH+;"><field name="VAR" id="6R@e:3;WSEtyVI/97_[(">marker comment</field></block></value><value name="CASE_SENSITIVE"><shadow type="block_checkbox" id="3e6KKG[lEX(s2*GqYqRA"><field name="VALUE">FALSE</field></shadow></value><value name="IS_REGEXP"><shadow type="block_checkbox" id="%Pj8E%;;o$y|)/`|w1=l"><field name="VALUE">FALSE</field></shadow></value></block></value><value name="B"><block type="math_number" id="d(Abv@tR81N#9x`lQxC0"><field name="NUM">0</field></block></value></block></value><statement name="DO0"><block type="ae_keyframes_delete" id="?-_GZx=lw5%;f%35^oxM"><field name="GREATER_OPTION">GREATER_EQUAL</field><field name="LESS_OPTION">LESS_EQUAL</field><value name="PROPERTY"><block type="variables_get" id="aIbOEgI-U),rBvp6lKsI"><field name="VAR" id="=u~l?xKbE4,QVrF)WE3^">marker prop</field></block></value><value name="TIME_MIN"><block type="variables_get" id="[:BAqSF`kpFw0%6-!env"><field name="VAR" id="`M9}O,gs_mn4p.r*x/ZD">key time</field></block></value><value name="TIME_MAX"><block type="variables_get" id=")qp=@n~S^!K4vz3usfU0"><field name="VAR" id="`M9}O,gs_mn4p.r*x/ZD">key time</field></block></value></block></statement><next><block type="variables_set" id="0L~`%NPbC`M*Z5I2e*X7"><field name="VAR" id="`M9}O,gs_mn4p.r*x/ZD">key time</field><value name="VALUE"><block type="ae_nearest_keyframe_time" id="qvKM,e.RwcnShpaxE-?*"><field name="TIME_OPTION">GREATER</field><value name="TIME"><block type="variables_get" id="+x!x,~WVF|v3*[J#(~b1"><field name="VAR" id="`M9}O,gs_mn4p.r*x/ZD">key time</field></block></value><value name="PROPERTY"><block type="variables_get" id="Cl:N4406y8S*-3md*iQ,"><field name="VAR" id="=u~l?xKbE4,QVrF)WE3^">marker prop</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></statement></block></xml>