<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="mtn)Zs(MDQ5c`4AvQ`QD">my property</variable><variable id="qA^an4XcS0EgyJn}M==y">prop</variable><variable id="66L,_5fmKX80$0t[Ab^$">original keyframes</variable><variable id="z)^T!I5t`a8Uj3CmI:tB">snapped keyframes</variable></variables><block type="mm_multiline_comment_block" id="hEeM21Vat+AU]@+1Taq!" x="0" y="-67"><field name="TEXT">This tool adjusts all keyframes of all&amp;#10;selected properties so their timing aligns &amp;#10;perfectly with full frames.&amp;#10;Keyframes that were previously placed in&amp;#10; between frames will be snapped to the&amp;#10;nearest frame, ensuring cleaner timing.&amp;#10;</field></block><block type="es_tutorial" id="A_qxh|)kj%*R;!Kp:mZY" x="1" y="215"><field name="WATCH_TUT_LABEL">open web page</field><field name="TITLE">watch tutorial</field><field name="URL">https://youtu.be/pg7tblmaqDE</field></block><block type="ae_property_for_all" id="?cU8j@!^E,{Caw4K*s*n" x="-11" y="432"><field name="SELECTION">SELECTED</field><field name="TYPE">PROP</field><field name="PROPERTY_VAR" id="mtn)Zs(MDQ5c`4AvQ`QD">my property</field><value name="COMP"><shadow type="ae_active_comp" id="5O%v70|Q@qycE?F@R[Ac"></shadow></value><statement name="LOOP_STATEMENT"><block type="controls_if" id="U+7wu^m]#PDYU5E7J`$D"><value name="IF0"><block type="logic_compare" id="*E`EUrz}6]BB8caHBK1b"><field name="OP">GT</field><value name="A"><block type="ae_property_get_attribute" id="/hTS]ol)`??y%|n9u+*8"><field name="PARAM">NUM_KEYS</field><value name="ITEM"><block type="variables_get" id="I7a[+sO,%ov]s20;RG;W"><field name="VAR" id="mtn)Zs(MDQ5c`4AvQ`QD">my property</field></block></value></block></value><value name="B"><block type="math_number" id="rHIs=h3KnNvzr[rS1I%1"><field name="NUM">0</field></block></value></block></value><statement name="DO0"><block type="procedures_callnoreturn" id="M$,AI@-gP%JL~7c[BZ3f"><mutation name="snap keyframes of prop"><arg name="prop"></arg></mutation><value name="ARG0"><block type="variables_get" id="+OX71d?lie*gMW;M2*$w"><field name="VAR" id="mtn)Zs(MDQ5c`4AvQ`QD">my property</field></block></value></block></statement></block></statement></block><block type="procedures_defnoreturn" id=".H|K2Uf!c`UT4DIXogn?" x="0" y="874"><mutation><arg name="prop" varid="qA^an4XcS0EgyJn}M==y"></arg></mutation><field name="NAME">snap keyframes of prop</field><comment pinned="false" h="80" w="160">Describe this function...</comment><statement name="STACK"><block type="variables_set" id="(n4^A^P],2:iCHzR`!Qj"><field name="VAR" id="66L,_5fmKX80$0t[Ab^$">original keyframes</field><value name="VALUE"><block type="ae_keyframe_json_from_prop" id=":M]}jwW.9$Akm*z)ExGC"><mutation createVariant="ALL"></mutation><field name="CREATE_VARIANT">ALL</field><value name="PROPERTY"><block type="variables_get" id="e`946}!RiWQU9M94v0Q]"><field name="VAR" id="qA^an4XcS0EgyJn}M==y">prop</field></block></value></block></value><next><block type="variables_set" id="n4f0l|6qfX=Q8bvxyL=p"><field name="VAR" id="z)^T!I5t`a8Uj3CmI:tB">snapped keyframes</field><value name="VALUE"><block type="ae_execute_code" id="iP[.|@guhg=?-q%ZKF30"><mutation items="2" resultType="other"></mutation><field name="FIELD_VAR_NAME_0">jsonKeyframeData</field><field name="FIELD_VAR_TYPE_0">other</field><field name="FIELD_VAR_NAME_1">frameDuration</field><field name="FIELD_VAR_TYPE_1">other</field><field name="RESULT_TYPE">other</field><value name="ADD0"><shadow type="text" id="?E2HuZz%dSR9s1!dnQy/"><field name="TEXT">variable value</field></shadow><block type="variables_get" id="^478~!/:A,:Oxxw,2k%L"><field name="VAR" id="66L,_5fmKX80$0t[Ab^$">original keyframes</field></block></value><value name="ADD1"><block type="ae_comp_get_attribute" id=":d[`1z(|D8![+iy?a+mi"><field name="PARAM">FRAME_DURATION</field><value name="ITEM"><shadow type="ae_active_comp" id=".F5l?Uln7:JOj3nAO:?K"></shadow></value></block></value><value name="CODE"><shadow type="text_multiline" id=":W;}0[GR%C)bn@{1qtjV"><field name="TEXT">function snapKeyframeTimesToFrames(jsonKeyframeData, frameDuration) {&amp;#10;    for (var i = 0; i &lt; jsonKeyframeData.length; i++) {&amp;#10;        var key = jsonKeyframeData[i];&amp;#10;        var frameNumber = Math.round(key.time / frameDuration);&amp;#10;        key.time = frameNumber * frameDuration;&amp;#10;    }&amp;#10;    return jsonKeyframeData;&amp;#10;}&amp;#10;snapKeyframeTimesToFrames(jsonKeyframeData, frameDuration)</field></shadow></value></block></value><next><block type="ae_keyframes_delete" id="m5R~G(ZC4kH:t]rzG`LF"><field name="GREATER_OPTION">GREATER_EQUAL</field><field name="LESS_OPTION">LESS_EQUAL</field><value name="PROPERTY"><block type="variables_get" id="mi:^ep0B,3J!q}wX|2)m"><field name="VAR" id="qA^an4XcS0EgyJn}M==y">prop</field></block></value><next><block type="ae_keyframes_apply" id="nO~yxry1W/u|CvRc1z4."><value name="KEYFRAME_JSON"><shadow type="ae_keyframe_json_const" id="wOpgjw@LoX,OKB_5b{C("><field name="KEYFRAME_JSON">select some keyframes and click refresh icon</field></shadow><block type="variables_get" id="qL=oIS*0d#ZY)+X9peh]"><field name="VAR" id="z)^T!I5t`a8Uj3CmI:tB">snapped keyframes</field></block></value><value name="PROPERTY"><block type="variables_get" id="/2sRR?,`/-ClRe@Fybv2"><field name="VAR" id="qA^an4XcS0EgyJn}M==y">prop</field></block></value><value name="MERGE_STRATEGY_BEFORE"><shadow type="dropdown_block_mm" id="{h%f7TQ(ue4(j(C#X,c["><mutation><arg name="none"></arg><arg name="adjust keys before to new keys"></arg><arg name="adjust new keys to keys before"></arg><arg name="adjust new keys to keys before or value"></arg></mutation><field name="DROPDOWN">none</field></shadow></value><value name="MERGE_STRATEGY_AFTER"><shadow type="dropdown_block_mm" id="ZE`OY^XV7%QvLrV8zC{="><mutation><arg name="none"></arg><arg name="adjust keys after to new keys"></arg><arg name="adjust new keys to keys after"></arg><arg name="adjust new keys to keys after or value"></arg></mutation><field name="DROPDOWN">none</field></shadow></value></block></next></block></next></block></next></block></statement></block></xml>