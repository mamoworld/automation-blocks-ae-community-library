<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="7Z[6#?4t=5(_Y54L@Wio">layers</variable><variable id="F-fq,%|=}xg[9o|7{3$O">effect name</variable><variable id="/O.AKJ=0.|p`Gbyfecm-">layer</variable><variable id="vhz~{-)+_,U8,)d55r3O">my layer text</variable><variable id="l^Z)]h@SO$6yhpW`:FDH">result</variable><variable id="-@|Pb/jEFU.r4Z^]O0@t">dropdown layer</variable><variable id="9|$K|QnZ4(97OvAfLb[l">my layer</variable><variable id=".Uz0@O|nTM1QUEd=;C#]">dropdown effect name</variable><variable id="(Mn|eI%h,O.t^z3YlS8J">dropdown effect</variable><variable id="Mjyy68=X7~KECJ4jjXIV">dropdown label list</variable><variable id="7K%OmBAh)00*n-nn^#jm">i</variable></variables><block type="mm_multiline_comment_block" id="+2b4Ke83ca:l4t_*%bm+" x="-53" y="-798"><field name="TEXT">Creates a dropdown effect where you can&amp;#10;control the visibility of a bunch of&amp;#10;layers. The dropdown lists all those&amp;#10;layers and sets the opacity of all&amp;#10;except the chosen layer to 0.&amp;#10;&amp;#10;Usage&amp;#10;1) select the layers whose visibility&amp;#10;   you can to control and run the tool&amp;#10;2) in the dialog that pops up, choose&amp;#10;   the layer on which the dropdown menu&amp;#10;   effect should be created and choose a&amp;#10;   name for the dropdown (if a dropdown&amp;#10;   with that name exists already, it is&amp;#10;   reused)&amp;#10;&amp;#10;Tip: Note that the tool still respects&amp;#10;keyframes on the opacity, such that you&amp;#10;can fade the chosen layer in and out,&amp;#10;for example. </field></block><block type="variables_set" id="x:S=D_:Ps696dRj%8jZ}" x="-44" y="-170"><field name="VAR" id="7Z[6#?4t=5(_Y54L@Wio">layers</field><value name="VALUE"><block type="ae_layer_list" id="*YiFug}Lu_Jr+=Ymy8|g"><field name="SELECTION">SELECTED</field><field name="TYPE">Layer</field><value name="COMP"><shadow type="ae_active_comp" id=";5b_gnl;zndqRtuXQ^IZ"></shadow></value></block></value><next><block type="controls_if" id=":e|*Co/MI@^D*B?#`YZx"><value name="IF0"><block type="logic_compare" id="etj{J=bIG`-qQXBpeDvX"><field name="OP">LT</field><value name="A"><block type="lists_length" id="Iu=B{1:Q5jKU/4.ee5Fo"><value name="VALUE"><block type="variables_get" id="_Oh%IWo`zk`YOe)i;6SO"><field name="VAR" id="7Z[6#?4t=5(_Y54L@Wio">layers</field></block></value></block></value><value name="B"><block type="math_number" id="|@go$D#SSatMSae|WBUq"><field name="NUM">2</field></block></value></block></value><statement name="DO0"><block type="block_extendscript_alert" id="=;}.YE*Cm:@+j=:Cdm,s"><field name="TEXT">alert</field><field name="TYPE">ERROR</field><value name="TEXT_TO_ALERT"><shadow type="text" id="I2-mDi7O$3]C_.$Yk~%0"><field name="TEXT">please select at least one layer</field></shadow><block type="text_multiline" id="vc}@1*:rdh~ve{gJ3F#+"><field name="TEXT">please select at least two layers&amp;#10;whose visibility should be controlled by the dropdown</field></block></value></block></statement><next><block type="variables_set" id="/Z6`T@w$@y|9orbl}`M%"><field name="VAR" id="-@|Pb/jEFU.r4Z^]O0@t">dropdown layer</field><value name="VALUE"><block type="procedures_callreturn" id="2[MuApAv3JjiL46?vVjl"><mutation name="get &quot;index:name&quot; list of all layers"></mutation></block></value><next><block type="variables_set" id="PJT)-F/A,$bR$6;N!GtT"><field name="VAR" id=".Uz0@O|nTM1QUEd=;C#]">dropdown effect name</field><value name="VALUE"><block type="text" id="pDJtp]PKvV)O]o?xRR!c"><field name="TEXT">Dropdown Menu Control</field></block></value><next><block type="modal_input_dialog" id="~P0Y8FU_R[R.d[,UJu5w"><mutation items="3"></mutation><field name="OK_CANCEL">OK_CANCEL</field><field name="FIELD_LABEL_0">make exactly one of selected layers visible</field><field name="FIELD_TYPE_0">LABEL</field><field name="FIELD_LABEL_1">with a dropdown on layer</field><field name="FIELD_TYPE_1">DROPDOWN</field><field name="FIELD_VAR_1" id="-@|Pb/jEFU.r4Z^]O0@t">dropdown layer</field><field name="FIELD_LABEL_2">dropdown name</field><field name="FIELD_TYPE_2">TEXT_SINGLELINE</field><field name="FIELD_VAR_2" id=".Uz0@O|nTM1QUEd=;C#]">dropdown effect name</field><next><block type="variables_set" id="aCkc?XCW:N;LjW$47~03"><field name="VAR" id="-@|Pb/jEFU.r4Z^]O0@t">dropdown layer</field><value name="VALUE"><block type="procedures_callreturn" id="h:g3pP|$M?|(MPq?iF9f"><mutation name="get layer from &quot;index:name&quot;"><arg name="my layer text"></arg></mutation><value name="ARG0"><block type="variables_get" id="_aYEqy-OagjZcXLj]U93"><field name="VAR" id="-@|Pb/jEFU.r4Z^]O0@t">dropdown layer</field></block></value></block></value><next><block type="variables_set" id="6[cJ-$z$/[tO`.]QM/E#"><field name="VAR" id="(Mn|eI%h,O.t^z3YlS8J">dropdown effect</field><value name="VALUE"><block type="procedures_callreturn" id="Ro3d?1}U-Ha!93RF-)^l"><mutation name="get effect by name on layer"><arg name="effect name"></arg><arg name="layer"></arg></mutation><value name="ARG0"><block type="variables_get" id="Deg/pJ~)Inz0CFIDxHiy"><field name="VAR" id=".Uz0@O|nTM1QUEd=;C#]">dropdown effect name</field></block></value><value name="ARG1"><block type="variables_get" id="pG`94;V,mWuT)))URmud"><field name="VAR" id="-@|Pb/jEFU.r4Z^]O0@t">dropdown layer</field></block></value></block></value><next><block type="controls_if" id="hy|rr,dfec(Jj`%,^mG;"><value name="IF0"><block type="logic_negate" id="j4K;gy;()Q6;?PhmF=Y|"><value name="BOOL"><block type="ae_property_exists" id="P@^nS|iV^,wL#F?bi.Zb"><value name="PROPERTY"><shadow type="ae_property_path" id=",MkG~^m;OH|l:~_]L64I"><mutation fullPath="comp::layer/ADBE Effect Parade/ADBE Slider Control/ADBE Slider Control-0001" base="BASE_LAYER"></mutation><field name="PROPERTY_PATH">ADBE Effect Parade/ADBE Slider Control/ADBE Slider Control-0001</field><field name="BASE_DROPDOWN">BASE_LAYER</field><value name="INP_LAYER"><shadow type="text" id="ME@/tjB8M4o}IL[A}QP9"><field name="TEXT">comp::layer</field></shadow></value></shadow><block type="variables_get" id=":AP2Aq,:T8wU)O]r+^K:"><field name="VAR" id="(Mn|eI%h,O.t^z3YlS8J">dropdown effect</field></block></value></block></value></block></value><statement name="DO0"><block type="ae_apply_effect" id=";HPR_]B:_z:]g5tt%9=%"><mutation mainCategory="EFFECT" effectMatchName="ADBE Dropdown Control" shapeMatchName="null"></mutation><field name="MAIN_CATEGORY">EFFECT</field><field name="EFFECT_CATEGORY">Expression Controls</field><field name="EFFECT_MATCHNAME">ADBE Dropdown Control</field><field name="EFFECT_VARIABLE" id="(Mn|eI%h,O.t^z3YlS8J">dropdown effect</field><value name="LAYER"><block type="variables_get" id="yPB*=v{pmk%TxSq/_N8?"><field name="VAR" id="-@|Pb/jEFU.r4Z^]O0@t">dropdown layer</field></block></value><value name="EFFECT_PARAM_Pseudo/@@pAT0Kpz+TI2+s0BKv2+K3Q-0001"><shadow type="dropdown_block_mm" id="*j6(@eS#kVK!T5eD054)"><mutation><arg name="1"></arg><arg name="2"></arg><arg name="3"></arg></mutation><field name="DROPDOWN">1</field></shadow></value><next><block type="ae_property_set_attribute" id="#`8}yMboM$jG8oDaDbwb"><field name="PARAM">NAME</field><value name="ITEM"><block type="variables_get" id="1NGuRY?N:LUsGm}_Oy{|"><field name="VAR" id="(Mn|eI%h,O.t^z3YlS8J">dropdown effect</field></block></value><value name="VALUE"><shadow type="text" id="uMg5xp@ZjqGezNOT?yM)"><field name="TEXT"></field></shadow><block type="variables_get" id="0[|hOOO8r$%yPMlYw=~z"><field name="VAR" id=".Uz0@O|nTM1QUEd=;C#]">dropdown effect name</field></block></value></block></next></block></statement><next><block type="variables_set" id=":33tzuQmE4}R1u%h!L0r"><field name="VAR" id="Mjyy68=X7~KECJ4jjXIV">dropdown label list</field><value name="VALUE"><block type="lists_create_with" id="9Ysw_h_|w=krf*)?*|[*"><mutation items="0"></mutation></block></value><next><block type="variables_set" id="kMY1}@L@pYtcIDkei)uU"><field name="VAR" id="7K%OmBAh)00*n-nn^#jm">i</field><value name="VALUE"><block type="math_number" id="0q?HT?8-^T;(C,OXdW=."><field name="NUM">1</field></block></value><next><block type="controls_forEach" id="S[G~LiQPbWJ[!?)gPFV:"><field name="VAR" id="9|$K|QnZ4(97OvAfLb[l">my layer</field><value name="LIST"><block type="variables_get" id="/e%ejV^Qm0:AyW7.63a}"><field name="VAR" id="7Z[6#?4t=5(_Y54L@Wio">layers</field></block></value><statement name="DO"><block type="lists_setIndex" id="qxLe(5p(Mai$*65d{v2I"><mutation at="false"></mutation><field name="MODE">INSERT</field><field name="WHERE">LAST</field><value name="LIST"><block type="variables_get" id="oQ.#^albVd3urXHo`}UD"><field name="VAR" id="Mjyy68=X7~KECJ4jjXIV">dropdown label list</field></block></value><value name="TO"><block type="ae_layer_get_attribute" id="J#h^2WV:T{q|YVbdA(6u"><field name="PARAM">NAME</field><value name="ITEM"><block type="variables_get" id="^skY,FakSS^b4Y*#M8Yk"><field name="VAR" id="9|$K|QnZ4(97OvAfLb[l">my layer</field></block></value></block></value><next><block type="ae_property_set_attribute" id="5_WCIf(XcO|GUm3!=WzB"><field name="PARAM">EXPRESSION</field><value name="ITEM"><block type="ae_property_path" id="9Wwz%pSybWbK,;U]ftQM"><mutation fullPath="Comp 1::Blue Solid 1/ADBE Transform Group/ADBE Opacity" base="BASE_LAYER"></mutation><field name="PROPERTY_PATH">ADBE Transform Group/ADBE Opacity</field><field name="BASE_DROPDOWN">BASE_LAYER</field><value name="INP_LAYER"><shadow type="text" id="2gE}?9uF@,34k@T_tczO"><field name="TEXT">Comp 1::Blue Solid 1</field></shadow><block type="variables_get" id="UyC)re++?aJwptce{G_."><field name="VAR" id="9|$K|QnZ4(97OvAfLb[l">my layer</field></block></value></block></value><value name="VALUE"><shadow type="text_multiline"><field name="TEXT"></field></shadow><block type="string_pattern" id="ggw^3Ekm*#2cu3E9SZ}X"><mutation items="3"></mutation><value name="VALUE"><shadow type="text"><field name="TEXT">Mr. $1 is $2 years old</field></shadow><block type="text_multiline" id="$r`U0tsiYd93.BEK9`gi"><field name="TEXT">var chosenLayer = thisComp.layer("$1").effect("$2")(1);&amp;#10;(chosenLayer == $3)?value:0</field></block></value><value name="ADD0"><shadow type="text"><field name="TEXT">Miller</field></shadow><block type="ae_layer_get_attribute" id="#(Y:!|t6Q2A_-},)A35H"><field name="PARAM">NAME</field><value name="ITEM"><block type="variables_get" id="G6AcTg.|o?7NM(EujH7J"><field name="VAR" id="-@|Pb/jEFU.r4Z^]O0@t">dropdown layer</field></block></value></block></value><value name="ADD1"><block type="variables_get" id="OcKgOMg:N!QfSOcVw(:z"><field name="VAR" id=".Uz0@O|nTM1QUEd=;C#]">dropdown effect name</field></block></value><value name="ADD2"><block type="variables_get" id="sIw#Z?n$K`U6,rte*Z-#"><field name="VAR" id="7K%OmBAh)00*n-nn^#jm">i</field></block></value></block></value><next><block type="math_change" id="8I~ws~E:jn,N;ww5e~zo"><field name="VAR" id="7K%OmBAh)00*n-nn^#jm">i</field><value name="DELTA"><shadow type="math_number" id="g?darm=]ZC?+GjW+!GJ2"><field name="NUM">1</field></shadow></value></block></next></block></next></block></statement><next><block type="ae_property_set_attribute" id="ukbb[7G?Q9z5@tuy/)FV"><field name="PARAM">DROPDOWN_PARAMETER_LIST</field><value name="ITEM"><block type="variables_get" id="u8fMv1ccZjA.IMB38m!."><field name="VAR" id="(Mn|eI%h,O.t^z3YlS8J">dropdown effect</field></block></value><value name="VALUE"><shadow type="lists_create_with" id="0I,K|$436SwJUbBaOiTS"><mutation items="3"></mutation><value name="ADD0"><shadow type="text" id="]20~E132oynIHp,@;_NR"><field name="TEXT">Options 1</field></shadow></value><value name="ADD1"><shadow type="text" id="M.C#.Im}:iD0tb_hcC-="><field name="TEXT"></field></shadow></value><value name="ADD2"><shadow type="text" id="Xo}snSk/@JA1-n%|VH%c"><field name="TEXT">Option 2</field></shadow></value></shadow><block type="variables_get" id="m!*e1p|%?{SXGETP9wa/"><field name="VAR" id="Mjyy68=X7~KECJ4jjXIV">dropdown label list</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type="procedures_defreturn" id="-#ZoD89Qn*hK=4[%js5R" collapsed="true" x="1074" y="0"><mutation statements="false"><arg name="effect name" varid="F-fq,%|=}xg[9o|7{3$O"></arg><arg name="layer" varid="/O.AKJ=0.|p`Gbyfecm-"></arg></mutation><field name="NAME">get effect by name on layer</field><comment pinned="false" h="80" w="160">Describe this function...</comment><value name="RETURN"><block type="ae_property_rebase" id="P[(ORS!oUk{EvDTATCe="><field name="BASE_TYPE">BASE_LAYER</field><value name="PROPERTY"><shadow type="ae_property_path"><mutation fullPath="click refresh icon to choose selected property" base="BASE_PROJECT"></mutation><field name="PROPERTY_PATH">click refresh icon to choose selected property</field><field name="BASE_DROPDOWN">BASE_PROJECT</field></shadow><block type="string_pattern" id="kFwJ^=?0rsv)r~I:%e})"><mutation items="1"></mutation><value name="VALUE"><shadow type="text"><field name="TEXT">Mr. $1 is $2 years old</field></shadow><block type="text" id="GUP$zIxb(iZ%@..As/P4"><field name="TEXT">::layer/ADBE Effect Parade/$1</field></block></value><value name="ADD0"><shadow type="text"><field name="TEXT">Miller</field></shadow><block type="variables_get" id="}ZfDl~f3w4W=tmgNdJQ~"><field name="VAR" id="F-fq,%|=}xg[9o|7{3$O">effect name</field></block></value></block></value><value name="NEW_BASE"><shadow type="ae_only_selected_layer"><value name="COMP"><shadow type="ae_active_comp"></shadow></value></shadow><block type="variables_get" id="m?1(M8IR29s?ol8iu9^0"><field name="VAR" id="/O.AKJ=0.|p`Gbyfecm-">layer</field></block></value></block></value></block><block type="procedures_defreturn" id="=[$oQJ@Opp:`+UrTeux%" collapsed="true" x="1074" y="79"><field name="NAME">get "index:name" list of all layers</field><comment pinned="false" h="80" w="160">Describe this function...</comment><statement name="STACK"><block type="variables_set" id="vG3X@zj1%#cTT3j+83]S"><field name="VAR" id="l^Z)]h@SO$6yhpW`:FDH">result</field><value name="VALUE"><block type="lists_create_with" id="Z_$W!uJ~Vv9v}a?Bh[7P"><mutation items="0"></mutation></block></value><next><block type="ae_layer_for_all" id="B]gF`Qz=!|UO(E#Tv}hn"><field name="SELECTION">ALL</field><field name="TYPE">Layer</field><field name="LAYER_VAR" id="9|$K|QnZ4(97OvAfLb[l">my layer</field><field name="COMP_CHOICE">COMP</field><value name="COMP"><shadow type="ae_active_comp" id="t#ce-HP?6rWn{v,a8[`a"></shadow></value><statement name="LOOP_STATEMENT"><block type="lists_setIndex" id=":11od4.n{6)xPy#y,OVi"><mutation at="false"></mutation><field name="MODE">INSERT</field><field name="WHERE">LAST</field><value name="LIST"><block type="variables_get" id="kRvl$)4,+iN|uDDY!p%."><field name="VAR" id="l^Z)]h@SO$6yhpW`:FDH">result</field></block></value><value name="TO"><block type="string_pattern" id="sqiFX-D,zrq^yO|ez=fy"><mutation items="2"></mutation><value name="VALUE"><shadow type="text" id="}lS7wbRLGx/!n8,0Ri_D"><field name="TEXT">$1:$2</field></shadow></value><value name="ADD0"><shadow type="text"><field name="TEXT">Miller</field></shadow><block type="ae_layer_get_attribute" id="#W^O{RcYrG/vuF5I,w*t"><field name="PARAM">INDEX</field><value name="ITEM"><block type="variables_get" id="}k!8Ue3F4@%9!M:y(r,$"><field name="VAR" id="9|$K|QnZ4(97OvAfLb[l">my layer</field></block></value></block></value><value name="ADD1"><shadow type="text"><field name="TEXT">41</field></shadow><block type="ae_layer_get_attribute" id="Ybo^W[YVJ=4b1XQs;b55"><field name="PARAM">NAME</field><value name="ITEM"><block type="variables_get" id="e2aVEez^;wHzM3zy,fGK"><field name="VAR" id="9|$K|QnZ4(97OvAfLb[l">my layer</field></block></value></block></value></block></value></block></statement></block></next></block></statement><value name="RETURN"><block type="variables_get" id="`P#hhlr@t-6j}?6U;@(Q"><field name="VAR" id="l^Z)]h@SO$6yhpW`:FDH">result</field></block></value></block><block type="procedures_defreturn" id="[hM.oowvIreKu:p94Guu" x="1066" y="175"><mutation statements="false"><arg name="my layer text" varid="vhz~{-)+_,U8,)d55r3O"></arg></mutation><field name="NAME">get layer from "index:name"</field><comment pinned="false" h="80" w="160">Describe this function...</comment><value name="RETURN"><block type="string_replace" id="2q@{Et%G!d+P8O05=zK*"><field name="REPLACE_VARIANT">REPLACE_FIRST</field><comment pinned="false" h="80" w="160">we replace a string like
"3:my layer name" by
"::3", i.e. only keep the number and prepend a ::The result is the path for the respective layer in the active composition (since layers can be accessed by index and :: refers to the active comp)</comment><value name="MAIN_TEXT"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="d0n[T3fU/@Q%vt_A7Esk"><field name="VAR" id="vhz~{-)+_,U8,)d55r3O">my layer text</field></block></value><value name="SEARCH_TEXT"><shadow type="text" id="@z-Bft+NNFf)Sj{:YaNz"><field name="TEXT">(\d+):.*</field></shadow></value><value name="REPLACE_TEXT"><shadow type="text" id="2:}[RP7YX=t{bNID111#"><field name="TEXT">::$1</field></shadow></value><value name="CASE_SENSITIVE"><shadow type="block_checkbox" id="mWn5rO!]YYTQK@P2Q}l6"><field name="VALUE">FALSE</field></shadow></value><value name="IS_REGEXP"><shadow type="block_checkbox" id="kcX2D:g}#5Hvje{an}|Q"><field name="VALUE">TRUE</field></shadow></value></block></value></block></xml>