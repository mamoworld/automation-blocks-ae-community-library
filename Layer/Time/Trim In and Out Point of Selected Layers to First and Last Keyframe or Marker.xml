<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="qiaze]qlDwEhUf6QaKH!">layer</variable><variable id=",|nJlio)GduV[Bpeye8^">comp</variable><variable id="^-3F|-cS3WaQ_GGF$`hN">comp duration</variable><variable id="ofI}h0}93^NsV{}~XWb*">in</variable><variable id="G6^212+7,oo+OWz@]`}O">out</variable><variable id="mtn)Zs(MDQ5c`4AvQ`QD">my property</variable></variables><block type="mm_multiline_comment_block" id="ZqaH{zZH#m:Nbo%LSwOi" x="0" y="0"><field name="TEXT">Sets for all selected layers their&amp;#10;- in point to their first keyframe&amp;#10;- out point to their last keyframe&amp;#10;&amp;#10;Warning: keyframes before the start or&amp;#10;after the end of the comp are ignored</field></block><block type="es_tutorial" id=",@CVmHZ7v7CjpC_^6Gtv" x="0" y="264"><field name="WATCH_TUT_LABEL">open web page</field><field name="TITLE">requested in this forum post</field><field name="URL">https://community.adobe.com/t5/after-effects-discussions/trimming-selected-layers-by-keyframes-markers-etc-with-automation-blocks/m-p/13073244#M205953</field></block><block type="ae_layer_for_all" id="*!`8Bq0}J~?,1W!ns/w9" x="0" y="440"><field name="SELECTION">SELECTED</field><field name="TYPE">Layer</field><field name="LAYER_VAR" id="qiaze]qlDwEhUf6QaKH!">layer</field><field name="COMP_CHOICE">COMP</field><value name="COMP"><shadow type="ae_active_comp" id="=hM|,r@5968#sS}jVsYQ"></shadow></value><statement name="LOOP_STATEMENT"><block type="procedures_callnoreturn" id="r~4Z}--TqzxsWG5vsB^4"><mutation name="trim layer to first and last keyframe"><arg name="layer"></arg></mutation><value name="ARG0"><block type="variables_get" id="hYK4f$6NOaS@Eo2{w+xf"><field name="VAR" id="qiaze]qlDwEhUf6QaKH!">layer</field></block></value></block></statement></block><block type="procedures_defnoreturn" id="8esa+n4Ig8G#3$KpB6_;" x="0" y="672"><mutation><arg name="layer" varid="qiaze]qlDwEhUf6QaKH!"></arg></mutation><field name="NAME">trim layer to first and last keyframe</field><comment pinned="false" h="80" w="160">Describe this function...</comment><statement name="STACK"><block type="variables_set" id=")J=W4g3U|0$PTuy*3b`_"><field name="VAR" id=",|nJlio)GduV[Bpeye8^">comp</field><value name="VALUE"><block type="ae_layer_get_attribute" id="6~]GENVkL^]EDm4h7lPi"><field name="PARAM">CONTAINING_COMP</field><value name="ITEM"><block type="variables_get" id="9XJ7u=SxXot,}:}|{PJZ"><field name="VAR" id="qiaze]qlDwEhUf6QaKH!">layer</field></block></value></block></value><next><block type="variables_set" id="|y*EUhD4oh)CZ$m-TV::"><field name="VAR" id="^-3F|-cS3WaQ_GGF$`hN">comp duration</field><value name="VALUE"><block type="ae_comp_get_attribute" id=":W#^i$.`),}q`VxlDS1{"><field name="PARAM">DURATION</field><value name="ITEM"><shadow type="ae_active_comp" id="F6[We[rJa15Ds]YYEOpM"></shadow><block type="variables_get" id="VD|8$VJ1b.+aWlZYR(6x"><field name="VAR" id=",|nJlio)GduV[Bpeye8^">comp</field></block></value></block></value><next><block type="variables_set" id="np6ca-*%_.Cg:kQLL6S#"><field name="VAR" id="ofI}h0}93^NsV{}~XWb*">in</field><value name="VALUE"><block type="variables_get" id="LjCwIrt^^{/Qy!Iu:YU@"><field name="VAR" id="^-3F|-cS3WaQ_GGF$`hN">comp duration</field></block></value><next><block type="variables_set" id=")hFB^{Z-YP9a@Jz8)D/)"><field name="VAR" id="G6^212+7,oo+OWz@]`}O">out</field><value name="VALUE"><block type="math_number" id="wOT^Agb@D-myfyC?xbp]"><field name="NUM">0</field></block></value><next><block type="ae_property_for_all" id="=M(oF-btOrAPr|1MmIXd"><field name="SELECTION">ALL</field><field name="TYPE">KEYFRAMED</field><field name="PROPERTY_VAR" id="mtn)Zs(MDQ5c`4AvQ`QD">my property</field><value name="COMP"><shadow type="ae_active_comp" id="}U#s0Dj4e9n@JVDR,PNn"></shadow><block type="variables_get" id="Z*RX=K8ZgAZ*H(i=_CH]"><field name="VAR" id="qiaze]qlDwEhUf6QaKH!">layer</field></block></value><statement name="LOOP_STATEMENT"><block type="variables_set" id="3V(d1N.[,is63!.!/^W3"><field name="VAR" id="ofI}h0}93^NsV{}~XWb*">in</field><value name="VALUE"><block type="math_on_list" id="An;8X!-xyO079KOI(eE@"><mutation op="MIN"></mutation><field name="OP">MIN</field><value name="LIST"><block type="lists_create_with" id="G,FHqw%1Zr3kc{l]HW3R"><mutation items="2"></mutation><value name="ADD0"><block type="variables_get" id="A=wzKjr)k!C(!RV%Ytd~"><field name="VAR" id="ofI}h0}93^NsV{}~XWb*">in</field></block></value><value name="ADD1"><block type="ae_nearest_keyframe_time" id="g|(x7J3R{bx,mpAiQoy2"><field name="TIME_OPTION">GREATER_EQUAL</field><value name="TIME"><block type="math_number" id="U*GBFutsBT5b{BDCdk}Q"><field name="NUM">0</field></block></value><value name="PROPERTY"><block type="variables_get" id="-xEuX9%Oui4f7Y6c|C5J"><field name="VAR" id="mtn)Zs(MDQ5c`4AvQ`QD">my property</field></block></value></block></value></block></value></block></value><next><block type="variables_set" id="SS)F.1ThBy`1lK:#dyNM"><field name="VAR" id="G6^212+7,oo+OWz@]`}O">out</field><value name="VALUE"><block type="math_on_list" id="7:G0-j6utEK!6.:n(/-b"><mutation op="MAX"></mutation><field name="OP">MAX</field><value name="LIST"><block type="lists_create_with" id="yJp2|B8/gcO/I`Gcygm}"><mutation items="2"></mutation><value name="ADD0"><block type="variables_get" id="9X!j.SL(,$of}RmgF@e_"><field name="VAR" id="G6^212+7,oo+OWz@]`}O">out</field></block></value><value name="ADD1"><block type="ae_nearest_keyframe_time" id="t]U|3;wZNEXM!H4OG]j/"><field name="TIME_OPTION">LESS_EQUAL</field><value name="TIME"><block type="variables_get" id="ucI.)|;KKuR#]4kS!bc-"><field name="VAR" id="^-3F|-cS3WaQ_GGF$`hN">comp duration</field></block></value><value name="PROPERTY"><block type="variables_get" id="pMw2%OiEAi:]M-EqEsjF"><field name="VAR" id="mtn)Zs(MDQ5c`4AvQ`QD">my property</field></block></value></block></value></block></value></block></value></block></next></block></statement><next><block type="controls_if" id="MiNX``OLPp8N?p!_;g;B"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="*zq*fH-GR2H5*q)51sj]"><field name="OP">LT</field><value name="A"><block type="variables_get" id="2}c1(g8i}Kp23v-B3M#$"><field name="VAR" id="ofI}h0}93^NsV{}~XWb*">in</field></block></value><value name="B"><block type="variables_get" id="JHxAgRXen*%03Vr)fE/T"><field name="VAR" id="G6^212+7,oo+OWz@]`}O">out</field></block></value></block></value><statement name="DO0"><block type="ae_layer_set_attribute" id="T-OK0Afw2]wF*i-pN[dY"><field name="PARAM">IN_POINT</field><value name="ITEM"><block type="variables_get" id="$xE)k_Cb/r2s3HL_hR8v"><field name="VAR" id="qiaze]qlDwEhUf6QaKH!">layer</field></block></value><value name="VALUE"><shadow type="math_number" id="TvXRn5bmovw%%[{Q{twg"><field name="NUM">0</field></shadow><block type="variables_get" id="{J#-NHtNxC@NTAMag[RB"><field name="VAR" id="ofI}h0}93^NsV{}~XWb*">in</field></block></value><next><block type="ae_layer_set_attribute" id="tcDYnJ^jlBE.+Sv?`.:t"><field name="PARAM">OUT_POINT</field><value name="ITEM"><block type="variables_get" id="Z`EYfn0.Vz6-)JX6F+QL"><field name="VAR" id="qiaze]qlDwEhUf6QaKH!">layer</field></block></value><value name="VALUE"><shadow xmlns="" type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="}j8-N|U.x[dgT+]/lu`F"><field name="VAR" id="G6^212+7,oo+OWz@]`}O">out</field></block></value></block></next></block></statement><statement name="ELSE"><block type="block_extendscript_console_log" id="9V`6(NVU/bmgJu3svVB%"><value name="MESSAGE"><shadow type="text" id="M?{pRn+:Co.H={d_%ZE="><field name="TEXT">ignore layer </field></shadow><block type="text_join" id="[DWl`Nt#4j%PR1{+e!Al"><mutation items="3"></mutation><value name="ADD0"><block type="text" id="BH#*bmUyopjmSuT;o:)~"><field name="TEXT">ignore layer</field></block></value><value name="ADD1"><block type="ae_layer_get_attribute" id="9}cAOA!_bs^$[5zIM7u,"><field name="PARAM">NAME</field><value name="ITEM"><block type="variables_get" id=",xdg.;yU^!~$O5M6^5{o"><field name="VAR" id="qiaze]qlDwEhUf6QaKH!">layer</field></block></value></block></value><value name="ADD2"><block type="text" id="!Jx@%tM+GDzf%4CXg;iR"><field name="TEXT">since it has no keyframes to trim to</field></block></value></block></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>