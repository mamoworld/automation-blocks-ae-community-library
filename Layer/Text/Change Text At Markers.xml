<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id=";e2dBYfi3mvy0gD!TlzE">layer</variable><variable id="fp,eMNXUdG.6P+yGlr#:">text</variable><variable id="DxA|#7wMZz1tsEu7Ci1L">split variant</variable><variable id="h(hF!Bq6*H7[Uy_)[|Er">accumulate text</variable><variable id="xmECFAiUK6=F*PZQsax7">regExp String</variable></variables><block type="mm_multiline_comment_block" id="X#:c(2G@#U$wzDyL9~:+" x="80" y="-95"><field name="TEXT">applies an expression to the selected&amp;#10;text layer, such that at each layer marker&amp;#10;a new word, line or paragraph appears.</field></block><block type="es_tutorial" id="5.C(u`$f0;xp1}x].c9+" x="79" y="75"><field name="WATCH_TUT_LABEL">open web page</field><field name="TITLE">tutorial &amp; forum discussion</field><field name="URL">https://community.adobe.com/t5/after-effects-discussions/text-layer-maker-with-automation-blocks/m-p/13043221#M204653</field></block><block type="variables_set" id="7qOJ0^5E[0R!:@roRe^J" x="73" y="273"><field name="VAR" id=";e2dBYfi3mvy0gD!TlzE">layer</field><value name="VALUE"><block type="ae_layer_list" id="e!jwb$(Yp3.UUEQ]Ya`L"><field name="SELECTION">SELECTED</field><field name="TYPE">TextLayer</field><value name="COMP"><shadow type="ae_active_comp" id="thhuLJWu9!HVzR?RK!]a"></shadow></value></block></value><next><block type="controls_if" id="Bj,5$4^IVq0VNzN/sN+V"><mutation else="1"></mutation><value name="IF0"><block type="lists_isEmpty" id=")$KZ_%AMp).8.-`G;g}`"><value name="VALUE"><block type="variables_get" id="@bQ?unLm!sv0d.CEKm`n"><field name="VAR" id=";e2dBYfi3mvy0gD!TlzE">layer</field></block></value></block></value><statement name="DO0"><block type="block_extendscript_alert" id="jg|DgOpf/eDFl@v!;?R:"><field name="TEXT">alert</field><field name="TYPE">ERROR</field><value name="TEXT_TO_ALERT"><shadow type="text" id="2O(nNNAe?SvE%19uHdE`"><field name="TEXT">please select exac</field></shadow><block type="text_multiline" id="V`U$m?vJtE{nvj:9R)Z5"><field name="TEXT">please select exactly one layer&amp;#10;on which the text should appear marker by marker </field></block></value></block></statement><statement name="ELSE"><block type="variables_set" id="{=!/?Sq0vPW[($u4Kt3H"><field name="VAR" id=";e2dBYfi3mvy0gD!TlzE">layer</field><value name="VALUE"><block type="lists_getIndex" id="rmnt-E!^Z;Q2B44e=GD%"><mutation statement="false" at="true"></mutation><field name="MODE">GET</field><field name="WHERE">FROM_START</field><value name="VALUE"><block type="variables_get" id="G}4%oyq?EdGeGxft11E,"><field name="VAR" id=";e2dBYfi3mvy0gD!TlzE">layer</field></block></value><value name="AT"><block type="math_number" id="]/t;2^??mN.vt5HlbIst"><field name="NUM">1</field></block></value></block></value></block></statement><next><block type="variables_set" id="aZbQtt;w0OdU4d+DAM4O"><field name="VAR" id="fp,eMNXUdG.6P+yGlr#:">text</field><value name="VALUE"><block type="ae_property_get_attribute" id="]-(f;*+*=tjv=L)XBZY8"><field name="PARAM">VALUE</field><value name="ITEM"><block type="ae_property_path" id="_,+$hV*IpG:uKPf,=Vn."><mutation fullPath="Comp 1::Fast Text Syncing  workflow/ADBE Text Properties/ADBE Text Document" base="BASE_LAYER"></mutation><field name="PROPERTY_PATH">ADBE Text Properties/ADBE Text Document</field><field name="BASE_DROPDOWN">BASE_LAYER</field><value name="INP_LAYER"><shadow type="text" id="!?Q07wOuXf}2j$q(:y^v"><field name="TEXT">Comp 1::Fast Text Syncing  workflow</field></shadow><block type="variables_get" id="%;J#CTmP98s{uQDLNy=n"><field name="VAR" id=";e2dBYfi3mvy0gD!TlzE">layer</field></block></value></block></value></block></value><next><block type="variables_set" id="-rWAeJE|tJbilxjGj=!;"><field name="VAR" id="DxA|#7wMZz1tsEu7Ci1L">split variant</field><value name="VALUE"><block type="text" id="!mc-?0=Xai%o)e,[ZKd+"><field name="TEXT">word|line|paragraph</field></block></value><next><block type="modal_input_dialog" id="aLG`oNYhB;Ytj!u577EG"><mutation items="4"></mutation><field name="OK_CANCEL">OK_CANCEL</field><field name="FIELD_LABEL_0">let text appear at markers</field><field name="FIELD_TYPE_0">LABEL</field><field name="FIELD_LABEL_1">text</field><field name="FIELD_TYPE_1">TEXT_MULTILINE</field><field name="FIELD_VAR_1" id="fp,eMNXUdG.6P+yGlr#:">text</field><field name="FIELD_LABEL_2">at each marker one</field><field name="FIELD_TYPE_2">DROPDOWN</field><field name="FIELD_VAR_2" id="DxA|#7wMZz1tsEu7Ci1L">split variant</field><field name="FIELD_LABEL_3">accumulate text</field><field name="FIELD_TYPE_3">CHECKBOX</field><field name="FIELD_VAR_3" id="h(hF!Bq6*H7[Uy_)[|Er">accumulate text</field><next><block type="controls_if" id="bw(1QrS5AmGC=dAr|rL7"><mutation elseif="1" else="1"></mutation><value name="IF0"><block type="logic_compare" id="u_~*]x5CpT?!PIj/^ydC"><field name="OP">EQ</field><value name="A"><block type="variables_get" id=".Y$cg_aob/dm$P5I7Vlh"><field name="VAR" id="DxA|#7wMZz1tsEu7Ci1L">split variant</field></block></value><value name="B"><block type="text" id="VwDX5y!{,!`^Fkt:9Bd@"><field name="TEXT">word</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="+3^8)d/6PaqzcV~UN1oT"><field name="VAR" id="xmECFAiUK6=F*PZQsax7">regExp String</field><value name="VALUE"><block type="text" id="g33BN+kc{j!7.xvi`e-*"><field name="TEXT">/\S+/gm</field></block></value></block></statement><value name="IF1"><block type="logic_compare" id="ua/gmUzS42T?FsB1;bi!"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="2yiB$HzykA;1b8q?A1!`"><field name="VAR" id="DxA|#7wMZz1tsEu7Ci1L">split variant</field></block></value><value name="B"><block type="text" id="Jd3s4+YQtCI,HM3U/`,+"><field name="TEXT">line</field></block></value></block></value><statement name="DO1"><block type="variables_set" id="wG1b!|/hSV4f_p`FpR[S"><field name="VAR" id="xmECFAiUK6=F*PZQsax7">regExp String</field><value name="VALUE"><block type="text" id="uk^rxIkJe/n/wbyC^`oU"><field name="TEXT">/^.+$/gm</field></block></value></block></statement><statement name="ELSE"><block type="variables_set" id="0vpg@,b3:y-n62%R*NAA"><field name="VAR" id="xmECFAiUK6=F*PZQsax7">regExp String</field><value name="VALUE"><block type="text" id="`.d;L]i1iu/!1dbKrNo`"><field name="TEXT">/(.+)((((\r\n)|\r|\n).+)*)/gm</field></block></value></block></statement><next><block type="ae_property_set_attribute" id="5bBZQON0TS4/Lb8vp+fB"><field name="PARAM">VALUE</field><value name="ITEM"><block type="ae_property_path" id="{!fmzc|i*c)EnOl6]J6m"><mutation fullPath="Comp 1::Text/ADBE Text Properties/ADBE Text Document" base="BASE_LAYER"></mutation><field name="PROPERTY_PATH">ADBE Text Properties/ADBE Text Document</field><field name="BASE_DROPDOWN">BASE_LAYER</field><value name="INP_LAYER"><shadow type="text"><field name="TEXT">Comp 1::Text</field></shadow><block type="variables_get" id="nBiBzeP~}8n#mBI[g|Q*"><field name="VAR" id=";e2dBYfi3mvy0gD!TlzE">layer</field></block></value></block></value><value name="VALUE"><shadow type="ae_property_value_json" id="b_ObD*pZOfA/-lwxD855"><field name="PROPERTY_VALUE_JSON">click refresh icon to load selected property value</field></shadow><block type="variables_get" id="im00Da91l,(b%ww8dc,k"><field name="VAR" id="fp,eMNXUdG.6P+yGlr#:">text</field></block></value><next><block type="ae_property_set_attribute" id="@0AY;cz7)V|x_e{L4$C{"><field name="PARAM">EXPRESSION</field><value name="ITEM"><block type="ae_property_path" id="29+L3!o[C;2N,vH~L;a;"><mutation fullPath="Comp 1::Text/ADBE Text Properties/ADBE Text Document" base="BASE_LAYER"></mutation><field name="PROPERTY_PATH">ADBE Text Properties/ADBE Text Document</field><field name="BASE_DROPDOWN">BASE_LAYER</field><value name="INP_LAYER"><shadow type="text" id="c{.9|a|^el!PXX~66m^p"><field name="TEXT">Comp 1::Text</field></shadow><block type="variables_get" id="ja[Nt3-!E-*OMN[L^BWu"><field name="VAR" id=";e2dBYfi3mvy0gD!TlzE">layer</field></block></value></block></value><value name="VALUE"><shadow type="text_multiline" id="$kL72U2K_`Hgxhk2CfVT"><field name="TEXT"></field></shadow><block type="string_pattern" id="jZ8FbvQKH1AcL,N:_j=t"><mutation items="2"></mutation><value name="VALUE"><shadow type="text" id=".vUoH7Dis[M8m(E^3)VD"><field name="TEXT">Mr. $1 is $2 years old</field></shadow><block type="text_multiline" id="o3hnRwa0J-XgT+v%K2uy"><field name="TEXT">var text = value;&amp;#10;var splitRegExp = $1;&amp;#10;var accumulate= $2;&amp;#10;function getTextForMarker(text, splitRegExp){&amp;#10;	var helpString = "please add markers to this layer";&amp;#10;	if(thisLayer.marker.numKeys == 0) return helpString;&amp;#10;	var nearestMarker = thisLayer.marker.nearestKey(time);&amp;#10;	var textIndex = (nearestMarker.time&gt;time) ? nearestMarker.index-1: nearestMarker.index;&amp;#10;	for(var i=0; i &lt; textIndex; i++){&amp;#10;		var match = splitRegExp.exec(text);&amp;#10;		if(!match) return "no more text left - delete this marker"&amp;#10;	}&amp;#10;	if(! match) return "";&amp;#10;	return accumulate ? text.substring(0,splitRegExp.lastIndex): match[0];&amp;#10;	&amp;#10;}&amp;#10;getTextForMarker(text, splitRegExp)</field></block></value><value name="ADD0"><shadow type="text" id="vf{2gRt=.jBQ9Pqc}8r6"><field name="TEXT">Text</field></shadow><block type="variables_get" id="O.f4X1[5j^St`%rv9E.}"><field name="VAR" id="xmECFAiUK6=F*PZQsax7">regExp String</field></block></value><value name="ADD1"><block type="variables_get" id="f-8dvn=SUr,^hq.hSU2^"><field name="VAR" id="h(hF!Bq6*H7[Uy_)[|Er">accumulate text</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type="text_multiline" id="@|iN@#BPX#iu$-{2x$!3" x="250" y="585"><field name="TEXT">Enter here the full text&amp;#10;which should appear at the&amp;#10;markers step by step.</field></block></xml>